<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HexBatch Core: ‼ Permissions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HexBatch Core
   &#160;<span id="projectnumber">pre-alpha</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">‼ Permissions </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Every trait in the library has three kinds of relationships with every other trait. Sometimes a trait has to have enough permissions for all the traits in an operation to make it work. For example, tagging. Need to be able to write to both the target and the tag traits</p>
<h1><a class="anchor" id="autotoc_md129"></a>
Type of Permissions</h1>
<h2><a class="anchor" id="autotoc_md130"></a>
Can this trait see the other trait ?</h2>
<p>If not, then the other trait is invisible, there is nothing known about it, and it passes like a ghost.</p>
<p>If it can see the other trait, then it can do at least a minimal selection on it, and apply associated tags to it</p>
<h2><a class="anchor" id="autotoc_md131"></a>
Can this trait read the other trait ?</h2>
<p>If it can read the other trait, it can automatically see the other trait</p>
<p>If it can read the target and the tag, it can select on the tags something has</p>
<p>if it can read a box trait id, then it can read the contents of a box</p>
<p>if it can read an api trait, it can set up a filter to be called when that api is called. If can read another trait, it can set up a selection or filter when that trait calls the api as its context</p>
<h2><a class="anchor" id="autotoc_md132"></a>
Can this trait write the other trait ?</h2>
<p>If it can write to a trait, it can read and see the trait.</p>
<p>If it can write to a box with a trait id, then it can set the data on it. If it can write to both a tag and the bus trait, it can set a tag on the bus</p>
<p>If it can read the api trait, and can write to another trait, it can rate limit that trait using the api</p>
<h1><a class="anchor" id="autotoc_md133"></a>
Permission rules for multiple traits</h1>
<p>Since all traits are in the same hierarchy, can only have one parent, and any two traits will eventually share the same ancestor, then we can set up a rule for a branch of traits</p>
<p>This means that trait A can be a parent, and set up a rule for N generations of its children</p>
<h1><a class="anchor" id="autotoc_md134"></a>
Permission Defaults and Rule Negation</h1>
<p>By default any trait is denied any permission for all other traits. So initial rules for a trait will always grant it something</p>
<p>However, for instance, say that we do not want some of its descendants to have the same rules, we want to modify it. So we add a new rule with different permissions</p>
<p>In general, more specific rules, a longer ancestor path, will overwrite more general rules, a shorter ancestor path</p>
<p>However, a trait needs to have permission to write to another trait before it can set rules for it. When the library starts up, there are traits that are set up with permissions to allow them to set permissions for all the other traits that might be created</p>
<h1><a class="anchor" id="autotoc_md135"></a>
Permission data structure (table)</h1>
<ul>
<li>🆔 🔤 guid for permission rule<ul>
<li><b>automatically created</b></li>
</ul>
</li>
<li>/ 🌐 Nested World id<ul>
<li><b>nested worlds have their permissions branch after using the same system traits</b></li>
</ul>
</li>
<li>/ trait action<ul>
<li><b>the trait we are setting the permissions for</b></li>
</ul>
</li>
<li>🛈 action-depth<ul>
<li><b>how many descendants we are setting this rule for on the action side</b></li>
</ul>
</li>
<li>/ trait target<ul>
<li><b>the trait that will be acted on</b></li>
</ul>
</li>
<li>🛈 trait-depth<ul>
<li><b>how many descendants we are setting this rule for on the target side</b></li>
</ul>
</li>
<li>⚑ permission<ul>
<li><b>will be see,read, write. Write means can read and see. Read means can also see</b></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md136"></a>
Selecting on Permissions</h1>
<p>It's possible to select on permission relationships. For instance I can select on a targets in a running shell that can be read by a certain glom</p>
<h1><a class="anchor" id="autotoc_md137"></a>
Changing Permission via Selections and Groups</h1>
<p>If the context trait to the api call has the proper permissions, can use the membership of a group , or a selection result to change permissions for many elements based on membership in the selection or group</p>
<p>Also, since setting permissions to anything is a listenable api , can set up hooks to listen for permission changes also </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
